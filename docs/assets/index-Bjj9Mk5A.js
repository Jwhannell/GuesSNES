(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))t(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&t(r)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();const b=new Map;function E(){return typeof window<"u"&&window.localStorage?window.localStorage:{getItem:e=>b.get(e)??null,setItem:(e,i)=>{b.set(e,i)}}}function D(e,i){const n=E();try{const t=n.getItem(e);return t?JSON.parse(t):i}catch{return i}}function R(e,i){E().setItem(e,JSON.stringify(i))}function m(e){const i=D(e,[]);return new Set(i)}function G(e,i){R(e,Array.from(i))}function H(e,i,n){const t=m(e);if(i.forEach(s=>t.add(s)),t.size>n){const s=Array.from(t).slice(t.size-n),o=new Set(s);return G(e,o),o}return G(e,t),t}function F(e){R(e,[])}const O={i:1,v:5,x:10,l:50,c:100,d:500,m:1e3};function L(e){const i=e.toLowerCase();if(!/^[ivxlcdm]+$/.test(i))return null;let n=0,t=0;for(let s=i.length-1;s>=0;s--){const o=i[s],r=O[o];if(!r)return null;r<t?n-=r:(n+=r,t=r)}return n>0?n:null}function K(e){if(!Number.isFinite(e)||e<=0)return"";const i=[[1e3,"M"],[900,"CM"],[500,"D"],[400,"CD"],[100,"C"],[90,"XC"],[50,"L"],[40,"XL"],[10,"X"],[9,"IX"],[5,"V"],[4,"IV"],[1,"I"]];let n="",t=Math.floor(e);for(const[s,o]of i)for(;t>=s;)n+=o,t-=s;return n}const _=new Set(["the","of","a","an","to","and","for","in","on","at","vs","vs.","with"]);function v(e,i={}){const{dropStopwords:n=!1}=i;return e.toLowerCase().replace(/[^a-z0-9]+/g," ").split(/\s+/).filter(Boolean).map(t=>{if(/^\d+$/.test(t))return t;const s=L(t);return s!==null?s.toString():t}).filter(t=>n?!_.has(t):!0)}function h(e){return v(e,{dropStopwords:!1}).join("")}function W(e,i){const n=e.length,t=i.length;if(n===0&&t===0)return 1;if(n===0||t===0)return 0;const s=[];for(let r=0;r<=n;r++){const a=[];s.push(a);for(let l=0;l<=t;l++)a.push(0)}for(let r=0;r<=n;r++)s[r][0]=r;for(let r=0;r<=t;r++)s[0][r]=r;for(let r=1;r<=n;r++)for(let a=1;a<=t;a++){const l=e[r-1]===i[a-1]?0:1,p=s[r-1][a]+1,c=s[r][a-1]+1,u=s[r-1][a-1]+l;s[r][a]=Math.min(p,c,u)}return 1-s[n][t]/Math.max(n,t)}function z(e,i){const n=h(e),t=h(i);if(n===t)return!0;const s=v(e,{dropStopwords:!0}),o=v(i,{dropStopwords:!0});if(s.length===0||o.length===0)return!1;const r=new Set(s),a=new Set(o);let l=0;for(const I of r)a.has(I)&&l++;const p=l/r.size,c=l/a.size,u=l,f=a.size===1,S=f?1:2,T=o[o.length-1],N=f||(T?r.has(T):!1),$=p>=.6&&c>=.5;return!!(N&&u>=S&&$||n.length>=5&&W(n,t)>=.8&&n.length>=t.length*.5)}function J(e,i){const n=i.split(/\s+/).filter(Boolean);let t=e;for(const s of n){const o=s.replace(/[^a-zA-Z0-9]/g,""),r=/^\d+$/.test(o),a=L(o),l=a!==null;if(o.length<2&&!r&&!l)continue;const p=[];if(p.push(o),r||(p.push(o+"s"),p.push(o+"es"),p.push(o+"'s"),p.push(o+"s'")),l&&p.push(a.toString()),r){const c=K(Number(o));c&&p.push(c)}for(const c of p){const u=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),f=new RegExp("\\b"+u+"\\b","gi");t=t.replace(f,S=>"_".repeat(S.length))}}return t}function g(e,i=Math.random){return e.map((n,t)=>({item:n,sortKey:i(),idx:t})).sort((n,t)=>n.sortKey-t.sortKey).map(n=>n.item)}function X(e){const i=new Set,n=[];for(const t of e)i.has(t)||(i.add(t),n.push(t));return n}function x(e){return h(e).slice(0,120)}function j(e){const i=e.split(new RegExp(`(?<=[.!?])\\s+(?=[A-Z0-9"'])`)).map(n=>n.trim()).filter(Boolean);return i.length===0?[e.trim()].filter(Boolean):i}function B(e,i){const{minLen:n=30,maxLen:t=180,maxHints:s=6,rng:o=Math.random}=i||{},a=j(e).filter(c=>c.length>=n&&c.length<=t),l=X(a);return g(l,o).slice(0,s)}function V(e,i){return e.filter(n=>!i.has(x(n)))}const y="sgl_used_hint_hashes_v1",M="sgl_seen_game_ids_v1",Y=500,q=200,w=6,k=[{id:"1",title:"Super Mario World",reviewSnippets:[]},{id:"2",title:"Super Mario World 2: Yoshi's Island",reviewSnippets:[]},{id:"3",title:"Donkey Kong Country",reviewSnippets:[]},{id:"4",title:"Donkey Kong Country 2: Diddy's Kong Quest",reviewSnippets:[]},{id:"5",title:"Donkey Kong Country 3: Dixie Kong's Double Trouble!",reviewSnippets:[]},{id:"6",title:"Super Mario All-Stars",reviewSnippets:[]},{id:"7",title:"Kirby Super Star",reviewSnippets:[]},{id:"8",title:"Kirby's Dream Land 3",reviewSnippets:[]},{id:"9",title:"Kirby's Dream Course",reviewSnippets:[]},{id:"10",title:"Aladdin",reviewSnippets:[]},{id:"11",title:"The Lion King",reviewSnippets:[]},{id:"12",title:"Earthworm Jim",reviewSnippets:[]},{id:"13",title:"Earthworm Jim 2",reviewSnippets:[]},{id:"14",title:"Sparkster",reviewSnippets:[]},{id:"15",title:"The Magical Quest Starring Mickey Mouse",reviewSnippets:[]},{id:"16",title:"The Legend of Zelda: A Link to the Past",reviewSnippets:[]},{id:"17",title:"Super Metroid",reviewSnippets:[]},{id:"18",title:"Chrono Trigger",reviewSnippets:[]},{id:"19",title:"Final Fantasy VI",reviewSnippets:[]},{id:"20",title:"Final Fantasy IV",reviewSnippets:[]},{id:"21",title:"Final Fantasy V",reviewSnippets:[]},{id:"22",title:"Earthbound",reviewSnippets:[]},{id:"23",title:"Secret of Mana",reviewSnippets:[]},{id:"24",title:"Secret of Evermore",reviewSnippets:[]},{id:"25",title:"Super Mario RPG: Legend of the Seven Stars",reviewSnippets:[]},{id:"26",title:"Breath of Fire",reviewSnippets:[]},{id:"27",title:"Breath of Fire II",reviewSnippets:[]},{id:"28",title:"Illusion of Gaia",reviewSnippets:[]},{id:"29",title:"Terranigma",reviewSnippets:[]},{id:"30",title:"Lufia II: Rise of the Sinistrals",reviewSnippets:[]},{id:"31",title:"Lufia & The Fortress of Doom",reviewSnippets:[]},{id:"32",title:"Star Ocean",reviewSnippets:[]},{id:"33",title:"Tales of Phantasia",reviewSnippets:[]},{id:"34",title:"Seiken Densetsu 3",reviewSnippets:[]},{id:"35",title:"Mega Man X",reviewSnippets:[]},{id:"36",title:"Mega Man X2",reviewSnippets:[]},{id:"37",title:"Mega Man X3",reviewSnippets:[]},{id:"38",title:"Contra III: The Alien Wars",reviewSnippets:[]},{id:"39",title:"Super Castlevania IV",reviewSnippets:[]},{id:"40",title:"Castlevania: Dracula X",reviewSnippets:[]},{id:"41",title:"Zombies Ate My Neighbors",reviewSnippets:[]},{id:"42",title:"ActRaiser",reviewSnippets:[]},{id:"43",title:"ActRaiser 2",reviewSnippets:[]},{id:"44",title:"Soul Blazer",reviewSnippets:[]},{id:"45",title:"Teenage Mutant Ninja Turtles IV: Turtles in Time",reviewSnippets:[]},{id:"46",title:"The Adventures of Batman & Robin",reviewSnippets:[]},{id:"47",title:"Maximum Carnage",reviewSnippets:[]},{id:"48",title:"Sunset Riders",reviewSnippets:[]},{id:"49",title:"Wild Guns",reviewSnippets:[]},{id:"50",title:"Street Fighter II Turbo",reviewSnippets:[]},{id:"51",title:"Super Street Fighter II",reviewSnippets:[]},{id:"52",title:"Mortal Kombat",reviewSnippets:[]},{id:"53",title:"Mortal Kombat II",reviewSnippets:[]},{id:"54",title:"Mortal Kombat 3",reviewSnippets:[]},{id:"55",title:"Killer Instinct",reviewSnippets:[]},{id:"56",title:"Street Fighter Alpha 2",reviewSnippets:[]},{id:"57",title:"Samurai Shodown",reviewSnippets:[]},{id:"58",title:"Fatal Fury",reviewSnippets:[]},{id:"59",title:"Fatal Fury Special",reviewSnippets:[]},{id:"60",title:"Super Mario Kart",reviewSnippets:[]},{id:"61",title:"F-Zero",reviewSnippets:[]},{id:"62",title:"Top Gear",reviewSnippets:[]},{id:"63",title:"Rock n' Roll Racing",reviewSnippets:[]},{id:"64",title:"Stunt Race FX",reviewSnippets:[]},{id:"65",title:"NBA Jam",reviewSnippets:[]},{id:"66",title:"NBA Jam Tournament Edition",reviewSnippets:[]},{id:"67",title:"Ken Griffey Jr. Presents Major League Baseball",reviewSnippets:[]},{id:"68",title:"Madden NFL 94",reviewSnippets:[]},{id:"69",title:"NHL 94",reviewSnippets:[]},{id:"70",title:"International Superstar Soccer",reviewSnippets:[]},{id:"71",title:"Super Punch-Out!!",reviewSnippets:[]},{id:"72",title:"Tetris Attack",reviewSnippets:[]},{id:"73",title:"Super Bomberman",reviewSnippets:[]},{id:"74",title:"Super Bomberman 2",reviewSnippets:[]},{id:"75",title:"Lemmings",reviewSnippets:[]},{id:"76",title:"SimCity",reviewSnippets:[]},{id:"77",title:"Ogre Battle: The March of the Black Queen",reviewSnippets:[]},{id:"78",title:"Final Fantasy Tactics",reviewSnippets:[]},{id:"79",title:"Harvest Moon",reviewSnippets:[]},{id:"80",title:"Super R-Type",reviewSnippets:[]},{id:"81",title:"Gradius III",reviewSnippets:[]},{id:"82",title:"Axelay",reviewSnippets:[]},{id:"83",title:"U.N. Squadron",reviewSnippets:[]},{id:"84",title:"Space Megaforce",reviewSnippets:[]},{id:"85",title:"Phalanx",reviewSnippets:[]},{id:"86",title:"The Lost Vikings",reviewSnippets:[]},{id:"87",title:"Shadowrun",reviewSnippets:[]},{id:"88",title:"Cybernator",reviewSnippets:[]},{id:"89",title:"Blackthorne",reviewSnippets:[]},{id:"90",title:"Out of This World",reviewSnippets:[]},{id:"91",title:"Star Fox",reviewSnippets:[]},{id:"92",title:"Pilot Wings",reviewSnippets:[]},{id:"93",title:"Yoshi's Safari",reviewSnippets:[]},{id:"94",title:"Super Scope 6",reviewSnippets:[]},{id:"95",title:"Demon's Crest",reviewSnippets:[]},{id:"96",title:"Battletoads in Battlemaniacs",reviewSnippets:[]},{id:"97",title:"Battletoads & Double Dragon",reviewSnippets:[]},{id:"98",title:"Teenage Mutant Ninja Turtles: Tournament Fighters",reviewSnippets:[]},{id:"99",title:"Super Turrican",reviewSnippets:[]},{id:"100",title:"Pocky & Rocky",reviewSnippets:[]},{id:"101",title:"Pocky & Rocky 2",reviewSnippets:[]},{id:"102",title:"Super Ghouls 'n Ghosts",reviewSnippets:[]},{id:"103",title:"Goof Troop",reviewSnippets:[]},{id:"104",title:"Super Adventure Island",reviewSnippets:[]},{id:"105",title:"Super Adventure Island II",reviewSnippets:[]},{id:"106",title:"Joe & Mac",reviewSnippets:[]},{id:"107",title:"The Jungle Book",reviewSnippets:[]},{id:"108",title:"Toy Story",reviewSnippets:[]},{id:"109",title:"Spider-Man",reviewSnippets:[]},{id:"110",title:"Spider-Man and the X-Men: Arcade's Revenge",reviewSnippets:[]},{id:"111",title:"X-Men: Mutant Apocalypse",reviewSnippets:[]},{id:"112",title:"Biker Mice from Mars",reviewSnippets:[]},{id:"113",title:"Power Rangers: The Fighting Edition",reviewSnippets:[]},{id:"114",title:"Mighty Morphin Power Rangers",reviewSnippets:[]},{id:"115",title:"Jurassic Park",reviewSnippets:[]},{id:"116",title:"Jurassic Park 2: The Chaos Continues",reviewSnippets:[]},{id:"117",title:"Star Wars: Super Return of the Jedi",reviewSnippets:[]},{id:"118",title:"Star Wars: The Empire Strikes Back",reviewSnippets:[]},{id:"119",title:"Tin Star",reviewSnippets:[]},{id:"120",title:"Rendering Ranger R2",reviewSnippets:[]}];function U(){return m(M)}function Z(e){return H(M,[e],q)}function C(){F(M)}function A(e){const i=U(),n=e.filter(o=>!i.has(o.id)),t=n.length>0?n:e,s=t[Math.floor(Math.random()*t.length)];if(!s)throw new Error("No games available");return n.length===0&&C(),Z(s.id),s}const Q="https://en.wikipedia.org/w/api.php";async function ee(e,i=fetch){const n=new URLSearchParams({action:"query",prop:"extracts",exsentences:"40",format:"json",origin:"*",titles:e});n.append("explaintext","1");try{const t=await i(`${Q}?${n.toString()}`);if(!t.ok)throw new Error(`Wiki fetch failed: ${t.status}`);const o=(await t.json())?.query?.pages??{},r=Object.keys(o)[0];if(!r)return null;const a=o[r]?.extract;return a||null}catch(t){return console.warn("Failed to fetch wiki extract",t),null}}function te(){return m(y)}function ie(e){const i=e.map(x);return H(y,i,Y)}function ne(){F(y)}function se(e){const i=[`${e.title} was critically acclaimed on the SNES.`,`Players praised ${e.title} for its gameplay and visuals.`,`${e.title} introduced memorable mechanics for its genre.`,`${e.title} has a soundtrack fans still adore.`,`${e.title} features iconic bosses and levels.`,`${e.title} remains a fan favorite decades later.`].join(" ");return B(i,{maxHints:w})}async function re(e,i){const{fetchImpl:n=fetch,rng:t=Math.random}={},s=te(),o=await ee(e.title,n),r=o?B(o,{maxHints:w*5,rng:t}):se(e),a=V(r,s);if(a.length===0)throw new Error("No new hints available for this game");const p=g(a,t).slice(0,w);return ie(p),p}async function oe(){try{return k}catch(e){return console.warn("Failed to fetch games, using mock data:",e),k}}class ae{constructor(i,n){const{rng:t=Math.random}=n||{},s=i.reviewSnippets??[],o=g(s,t);this.state={targetGame:i,guesses:[],maxGuesses:6,gameStatus:"playing",hintsRevealed:1,shuffledHints:o}}getState(){return{...this.state,shuffledHints:[...this.state.shuffledHints]}}makeGuess(i){return this.state.gameStatus!=="playing"?!1:(this.state.guesses.push(i),z(i,this.state.targetGame.title)?(this.state.gameStatus="won",!0):(this.state.hintsRevealed=this.state.guesses.length+1,this.state.guesses.length>=this.state.maxGuesses&&(this.state.gameStatus="lost"),!1))}getHints(){const i=[],n=this.state.shuffledHints;for(let t=0;t<this.state.hintsRevealed&&t<n.length;t++){const s=n[t];if(s){const o=J(s,this.state.targetGame.title);i.push(o)}}return i}getRemainingGuesses(){return this.state.maxGuesses-this.state.guesses.length}getGuesses(){return[...this.state.guesses]}isGameOver(){return this.state.gameStatus!=="playing"}hasWon(){return this.state.gameStatus==="won"}getAnswer(){return this.state.targetGame.title}}let d=null;function le(e="Loading a new game..."){const i=document.getElementById("app");i&&(i.innerHTML=`<div class="loading"><p>${e}</p></div>`)}async function pe(){const e=document.getElementById("app");if(e){le();try{const i=await oe();let n=A(i),t=[];const s=Math.min(i.length,5);for(let o=0;o<s;o++)try{if(t=await re(n),t.length>0)break}catch{n=A(i)}if(!t||t.length===0)throw new Error("Could not fetch fresh hints for any game");n.reviewSnippets=t,d=new ae(n),P()}catch(i){e.innerHTML='<div class="loading"><p>Failed to load game. Please refresh.</p></div>',console.error("Game initialization failed:",i)}}}function P(){const e=document.getElementById("app");if(!e||!d)return;d.getState();const i=d.getHints(),n=d.getGuesses(),t=d.getRemainingGuesses(),s=d.isGameOver(),o=d.hasWon();let r=`
    <div class="game-info">
      <div class="info-item">
        <div class="info-label">Guesses Left</div>
        <div class="info-value">${t}</div>
      </div>
      <div class="info-item">
        <div class="info-label">Hints Revealed</div>
        <div class="info-value">${i.length}</div>
      </div>
    </div>
  `;if(r+='<div class="hints-section">',r+='<div class="hints-title">üìù Hints:</div>',i.length===0?r+='<div class="no-hints">No hints available yet.</div>':i.forEach((a,l)=>{r+=`<div class="hint">${l+1}. ${a}</div>`}),r+="</div>",n.length>0&&(r+='<div class="guesses-section">',r+='<div class="hints-title">‚ùå Previous Guesses:</div>',n.forEach((a,l)=>{r+=`
        <div class="guess-item">
          <span class="guess-number">#${l+1}</span>
          <span>${a}</span>
        </div>
      `}),r+="</div>"),s){const a=o?"won":"lost",l=o?"üéâ You Won!":"üò¢ Game Over",p=o?`You guessed it in ${n.length} ${n.length===1?"try":"tries"}!`:"Better luck next time!";r+=`
      <div class="game-over ${a}">
        <div class="game-over-title">${l}</div>
        <div>${p}</div>
        <div class="answer">The answer was: <strong>${d.getAnswer()}</strong></div>
        <button class="new-game-btn" onclick="window.location.reload()">üîÑ Play Again</button>
      </div>
    `}else r+=`
      <div class="input-section">
        <form id="guess-form" class="input-group">
          <input 
            type="text" 
            id="guess-input" 
            placeholder="Enter your guess..."
            autocomplete="off"
            required
          />
          <button type="submit">Guess</button>
        </form>
      </div>
    `;if(e.innerHTML=r,!s){const a=document.getElementById("guess-form"),l=document.getElementById("guess-input");a&&l&&(a.addEventListener("submit",p=>{p.preventDefault();const c=l.value.trim();c&&d&&(d.makeGuess(c),P(),d.isGameOver()||(l.value="",l.focus()))}),l.focus())}}globalThis.resetHintHistory=()=>{try{C(),ne(),console.info("Hint/game history cleared.")}catch(e){console.warn("Failed to reset history",e)}};pe();
